# 생성자 함수에 의한 객체 생성

## 생성자 함수란?
- 생성자 함수는 ```new``` 연산자와 함께 인스턴스를 생성하는 함수를 말한다.
- 객체는 프로퍼티를 통해 상태를 표현하고 메소드를 통해 동작을 표현한다.

## this
- 일반함수로써 호출을 하였다면 this는 윈도우 전역객체를 가리킨다.
- 메소드로써 호출을 하였다면 this는 메소드가 존재하는 객체를 가리킨다.
- 생성자 함수로써 호출을 하였다면 this는 암묵적으로 생성자 함수가 생성할 인스턴스를 가리킨다.

# 생성자 함수의 인스턴스 생성 과정
1. 인스턴스 생성 후 this 바인딩
- 먼저 암묵적으로 빈 객체가 생성된다.
- 그리고 이 빈 객체(인스턴스) 는 암묵적으로 this에 바인딩 된다.
- ```런타임 이전에 이루어진다.```

2. 인스턴스 초기화
- 생성자 함수에 있는 코드가 한 줄씩 실행되어 this에 바인딩 되어 있는 인스턴스를 초기화한다. 
- 인스턴스를 생성했다하면 인수로 전달받은 초기값은 인스턴스 프로퍼티에 할당하여 초기화하거나 고정값을 할당한다.

3. 인스턴스 반환
- ```생성자 함수 내부의 모든 처리가 끝나면 인스턴스가 바인딩된 this가 암묵적으로 반환된다.```
- 명시적으로 객체 타입을 반환하면 마지막 return 문을 따른다. 따라서 obj는 빈 객체가 된다.
- 그러나 원시타입을 명시적으로 반환하면 정상적으로 인스턴스를 생성한다.

# [[Call]] 과 [[Constructor]]

- 함수는 객체이지만 일반 객체와 다르다. 제목의 내부 메소드를 추가로 가지고 있다.
- 일반함수로써 호출되면 내부메서드 ```[[Call]]```이 호출되고 new 연산자와 함께 생성자 함수로써 호출되면 내부메서드 ```[[Constructor]]```가 호출 된다.
- 내부메서드 ```[[Call]]```을 갖는 함수 객체를 callbale 이라고 부른다.
- 내부메서드 ```[[Constructor]]```을 갖는 함수 객체를 constructor 이라고 부른다.
- 내부메서드 ```[[Constructor]]```을 갖지 않는 함수 객체를 non-constructor 이라고 부른다.


